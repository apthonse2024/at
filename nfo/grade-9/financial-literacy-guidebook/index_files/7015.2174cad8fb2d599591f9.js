"use strict";(self.webpackChunk_scribd_app_monolith=self.webpackChunk_scribd_app_monolith||[]).push([[7015],{9079:(e,t,s)=>{s.d(t,{Dx:()=>y,rI:()=>k});var n=s(98158),r=s(39067),a=s.n(r),i=s(32720),o=s.n(i),u=s(22355),l=s.n(u),c=s(45250),h=s(55572),d=s(49634),g=s(11865),m=s(69740),p=s(75914),f=s(27067),_=s(55425),S=s(78082),v=s(89575),b=e=>{var{buttonStyle:t,children:s,className:n,disabled:r,menuIsOpen:a,onClick:i,onMouseEnter:u,onMouseLeave:c,nodeRef:h,useTextHandle:g}=e,p={"aria-expanded":a,"aria-haspopup":"true",buttonStyle:t,className:l()("menu_handle",n),disabled:r,href:"#",nodeRef:h,onClick:i,onMouseEnter:u,onMouseLeave:c};return g?o().createElement(d.QW,p,s):o().cloneElement(s,(0,m.A)((0,m.A)({},p),{},{isSelected:a}))};b.propTypes={buttonStyle:a().string,children:a().any,className:a().string,disabled:a().bool,menuIsOpen:a().bool,nodeRef:a().oneOfType([a().func,a().shape({current:a().any})]),onClick:a().func,onMouseEnter:a().func,onMouseLeave:a().func,useTextHandle:a().bool.isRequired},b.defaultProps={buttonStyle:d.mj.DEFAULT,className:null,disabled:!1,menuIsOpen:!1,onClick:g.noop,onMouseEnter:g.noop,onMouseLeave:g.noop};var y={BOTTOM:"bottom",BOTTOM_LEFT:"bottomLeft",BOTTOM_RIGHT:"bottomRight",TOP:"top"},C={wrapper:"MenuItems-module_wrapper__y6cjo",bottom:"MenuItems-module_bottom__el08f",bottomLeft:"MenuItems-module_bottomLeft__FF-WY",bottomRight:"MenuItems-module_bottomRight__YhCd-",closeButton:"MenuItems-module_closeButton__ZAyQt",enter:"MenuItems-module_enter__vWntV",enterActive:"MenuItems-module_enterActive__siJBE",enterDone:"MenuItems-module_enterDone__0krvl",exit:"MenuItems-module_exit__7RHpQ",exitActive:"MenuItems-module_exitActive__9vh7o",exitDone:"MenuItems-module_exitDone__0t4vV",isOpen:"MenuItems-module_isOpen__nxqbR",top:"MenuItems-module_top__2bxjj"},I=e=>{var{children:t,className:s,handleClose:n,isOpen:r,nodeRef:a,position:i,transition:u}=e,c=u?300:0;return o().createElement(f.CSSTransition,{in:r,timeout:c,classNames:{enter:C.enter,enterActive:C.enterActive,enterDone:C.enterDone,exit:C.exit,exitActive:C.exitActive,exitDone:C.exitDone}},o().createElement("div",{className:l()(C.wrapper,C[i],{[C.isOpen]:r},s),"data-e2e":"menu-items",ref:a},o().createElement(p.s8,{atAndAbove:!0,size:_.SIZES.S},o().createElement(d.QW,{"data-e2e":"close-button",className:C.closeButton,onClick:n},o().createElement(S.bm,{alt:"close menu"}))),t))};I.propTypes={children:a().any,className:a().string,handleClose:a().func,isOpen:a().bool,nodeRef:a().shape({current:"undefined"!=typeof Element?a().instanceOf(Element):a().any}),position:a().oneOf(Object.values(y)),transition:a().bool.isRequired},I.defaultProps={className:null,handleClose:g.noop,isOpen:!1,nodeRef:null,position:y.BOTTOM};var E="DropdownMenu-module_wrapper__-3wi4",w=!0;class k extends o().Component{constructor(e){var t;super(e),t=this,(0,n.A)(this,"handleResize",(()=>{this.closeMenu()})),(0,n.A)(this,"handleKeydown",(e=>{if(e.stopPropagation(),e.keyCode===g.keyMappings.esc)return this.closeMenu(w);(0,g.trapFocusInChildren)({event:e,children:(0,g.getFocusableChildren)(this.menuRef.current),exitFunction:this.closeMenu,tabCycle:!1})})),(0,n.A)(this,"addFocusTrap",(()=>{this.state.isOpen&&this.setFocus(this.menuRef.current)})),(0,n.A)(this,"setFocus",(e=>{(0,g.getFocusableChildren)(e)[0].focus()})),(0,n.A)(this,"toggleVisible",(()=>{this.state.isOpen?this.closeMenu(w):this.openMenu()})),(0,n.A)(this,"openMenu",(()=>{if(!this.state.isOpen){this.setState({isOpen:!0},(()=>{this.addFocusTrap(),this.props.onOpen()}))}})),(0,n.A)(this,"closeMenu",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t.state.isOpen){var{delayClose:s,onClose:n}=t.props;e||s<1?t.setState({isOpen:!1},n):t.closeTimeout=setTimeout((()=>{t.setState({isOpen:!1},n)}),s)}})),(0,n.A)(this,"onHandleClick",(e=>{e.preventDefault(),this.toggleVisible()})),(0,n.A)(this,"onMouseEnter",(()=>{clearTimeout(this.closeTimeout),this.props.openOnHover&&this.openMenu()})),(0,n.A)(this,"onMouseLeave",(()=>{this.closeMenu()})),this.state={isOpen:e.isOpen},this.wrapperRef=o().createRef(),this.menuRef=o().createRef(),this.handleKeydown=(0,c.throttle)(this.handleKeydown,200),this.handleResize=(0,c.throttle)(this.handleResize,200)}componentDidMount(){window.addEventListener("resize",this.handleResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}render(){return o().createElement(h.tH,null,o().createElement("div",{className:l()(E),"data-e2e":this.props["data-e2e"],ref:this.wrapperRef,onKeyDown:this.handleKeydown,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},o().createElement(b,{buttonStyle:this.props.buttonStyle,className:this.props.menuHandleClassName,menuIsOpen:this.state.isOpen,onClick:this.onHandleClick,disabled:this.props.disabled,nodeRef:this.props.handleNodeRef,useTextHandle:this.props.useTextHandle},this.props.handle),o().createElement(I,{isOpen:this.state.isOpen,nodeRef:this.menuRef,handleClose:this.closeMenu,position:this.props.forcePosition,className:this.props.menuItemsClassName,transition:this.props.menuItemsTransition},this.props.children)))}}k.propTypes={buttonStyle:a().string,"data-e2e":a().string,children:a().any,delayClose:a().number,disabled:a().bool,forcePosition:a().oneOf(Object.values(y)),handle:a().any,handleNodeRef:a().oneOfType([a().func,a().shape({current:a().any})]),isOpen:a().bool,menuHandleClassName:a().string,menuItemsClassName:a().string,menuItemsTransition:a().bool,onClose:a().func,onOpen:a().func,openOnHover:a().bool,useTextHandle:a().bool},k.defaultProps={buttonStyle:d.mj.DEFAULT,"data-e2e":null,delayClose:250,disabled:!1,isOpen:!1,menuHandleClassName:null,menuItemsClassName:null,menuItemsTransition:!1,onClose:g.noop,onOpen:g.noop,openOnHover:!1,useTextHandle:!0};var R="PillSelectDropdown-module_menuItems__wA2Ti",T="PillSelectDropdown-module_list__UnuBG",A="PillSelectDropdown-module_option__p4OGe",M="PillSelectDropdown-module_optionSelected__PXQEf";function O(e){var{inputType:t,initialOption:s,itemPosition:n,onChange:r,options:a}=e,[u,c]=(0,i.useState)(s),h=e=>{r(e),c(e)},d=a.map((e=>{var s=u.value===e.value,n=()=>h(e),r={className:l()(A,{[M]:s}),key:e.value};return t?o().createElement("li",r,o().createElement(t,{onChange:n,labelText:e.label,selected:s},e.label)):o().createElement("li",(0,v.A)({},r,{onClick:n,onKeyDown:t=>((e,t)=>{e.which===g.keyMappings.enter&&h(t)})(t,e),tabIndex:0}),e.label)}));return o().createElement(k,{forcePosition:n,menuItemsClassName:R,menuItemsTransition:!0,handle:o().createElement(p.gK,{label:u.label})},o().createElement("ul",{className:T},d))}var q=a().shape({label:a().string,value:a().string});O.propTypes={initialOption:q.isRequired,inputType:a().elementType,itemPosition:a().oneOf(Object.values(y)),onChange:a().func,options:a().arrayOf(q).isRequired},O.defaultProps={inputType:null,onChange:g.noop}},74221:(e,t,s)=>{s.d(t,{A:()=>L});var n=s(69740),r=s(98158),a=s(39067),i=s.n(a),o=s(32720),u=s.n(o),l=s(22355),c=s.n(l),h=s(11373),d=s(52500),g=s(49634),m=s(11865),p=s(78082),f=s(55425),_=s(96943);function S(e){return e.replace(/<\/?em>/g,"")}class v{constructor(){(0,r.A)(this,"MAX_SEARCH_TERMS",10)}get_search_key(e){return"ugc"===e?"search_data_ugc":"search_data"}read(e){var t=v.DEFAULT_DATA;return"undefined"==typeof window?t:(0,_.Z)((s=>{var n=s.getItem(this.get_search_key(e)),r=JSON.parse(n);return Object.assign({},t,r)}))}currentUniqueTerms(e){return[...new Set(this.read(e).terms)].filter((e=>!!e))}clone(e){return e.slice(0)}moveExistingTermToMostRecent(e,t){var s=this.clone(t),n=s.indexOf(e),[r]=s.splice(n,1);return s.unshift(r),s}saveTerms(e,t){return(0,_.Z)((s=>{var n=Object.assign({},this.read(t),{terms:e}),r=this.get_search_key(t);return s.setItem(r,JSON.stringify(n))}))}insertNewTerm(e,t){var s=this.clone(t);return s.length>=this.MAX_SEARCH_TERMS&&(s=s.slice(0,this.MAX_SEARCH_TERMS-1)),s.unshift(e),s}saveHistory(e,t){if("undefined"!=typeof window){var s=this.currentUniqueTerms(t);return s[0]&&0===s[0].indexOf(e)?s[0]=e:s=s.includes(e)?this.moveExistingTermToMostRecent(e,s):this.insertNewTerm(e,s),this.saveTerms(s,t)}}}(0,r.A)(v,"DEFAULT_DATA",{terms:[],queryPreferences:{}});var b="Suggestions-module_wrapper__eQtei",y="Suggestions-module_suggestionLabel__5VdWj",C="Suggestions-module_ulStyle__gwIbS",I="Suggestions-module_rebrandList__WTEUm",E="Suggestions-module_suggestion__jG35z",w="Suggestions-module_selected__rq9nK",k="Suggestions-module_rebrandSelected__CyqBO",R="Suggestions-module_suggestions__HrK3q";class T extends u().Component{constructor(e){super(e),(0,r.A)(this,"handleClick",(e=>{var{handleClick:t}=this.props,s=S(e);this.trackClick(s),t(s,!0)})),(0,r.A)(this,"handleMouseUp",(e=>{this.suggestionsRef.current&&!this.suggestionsRef.current.contains(e.target)&&this.trackCancel()})),(0,r.A)(this,"trackClick",(e=>{var{source:t,query:s}=this.props,n=this.getPrunedItems();(0,m.trackEvent)("search:drop_down_suggest:click",{page:window.location.pathname,search_session_id:(0,m.getSearchSessionId)(),source:t,query:e,query_typed:s,suggestions:n})})),(0,r.A)(this,"trackCancel",(()=>{var{source:e,query:t}=this.props,s=this.getPrunedItems();s.length&&(0,m.trackEvent)("search:drop_down_suggest:cancel",{page:window.location.pathname,search_session_id:(0,m.getSearchSessionId)(),source:e,query_typed:t,suggestions:s})})),this.suggestionsRef=u().createRef()}componentDidMount(){document.addEventListener("mouseup",this.handleMouseUp)}componentWillUnmount(){document.removeEventListener("mouseup",this.handleMouseUp)}getPrunedItems(){var{items:e}=this.props;return e.map(S)}rawHtml(e){return{__html:e}}renderSuggestionLabel(){var{labelText:e}=this.props;if(e)return u().createElement("div",{className:y},e)}renderLink(e){var{trust:t}=this.props;return t?u().createElement("a",{href:"#",onClick:e=>e.preventDefault(),dangerouslySetInnerHTML:this.rawHtml(e)}):u().createElement("a",{href:"#",onClick:e=>e.preventDefault()},e)}renderItems(){var{items:e,scribdRebrand:t,selectedIndex:s}=this.props;return e.map(((e,n)=>{var r=c()(E,{[w]:s===n,[k]:t}),a=c()({selected_suggestion:s===n});return u().createElement("li",{className:r,id:a,key:n.toString(),onClick:()=>this.handleClick(e)},this.renderLink(e))}))}render(){var{listId:e,scribdRebrand:t}=this.props;return u().createElement("div",{className:b},u().createElement("div",{className:R,id:e,ref:this.suggestionsRef,"data-e2e":"megamenu-top-bar-suggestions-list"},this.renderSuggestionLabel(),u().createElement("ul",{className:c()(C,{[I]:t})},this.renderItems())))}}T.propTypes={handleClick:i().func.isRequired,items:i().arrayOf(i().string).isRequired,labelText:i().string,listId:i().string.isRequired,query:i().string.isRequired,selectedIndex:i().number.isRequired,scribdRebrand:i().bool,source:i().string.isRequired,trust:i().bool.isRequired},T.defaultProps={labelText:null,scribdRebrand:!1};var A="SearchForm-module_wrapper__lGGvF",M="SearchForm-module_clearButton__ggRgX",O="SearchForm-module_clearButtonRebrand__g-X20",q="SearchForm-module_searchInput__l73oF",x="SearchForm-module_searchInputRebrand__IziA-",F="SearchForm-module_searchButton__4f-rn",N="SearchForm-module_closeRelatedSearchButton__c9LSI",H="SearchForm-module_focused__frjzW",D="SearchForm-module_inputWrapper__6iIKb";class L extends u().Component{constructor(e){var t;super(e),t=this,(0,r.A)(this,"onPopState",(e=>{e.preventDefault(),this.setState({backForwardClicked:!0})})),(0,r.A)(this,"handleLegacyHeaderInputFocus",(()=>{this.state.focused||this.searchInputRef.current.focus()})),(0,r.A)(this,"trackSuggestionsCancel",(()=>{var e=this.state.suggestionItems.map(S);e.length&&(0,m.trackEvent)("search:drop_down_suggest:cancel",{source:this.source,search_session_id:(0,m.getSearchSessionId)(),page:window.location.pathname,query_typed:this.inputValue,suggestions:e})})),(0,r.A)(this,"setHistory",(e=>{e&&(this.storage.saveHistory(e,this.props.brand),this.setState({queryHistory:this.getHistory()}))})),(0,r.A)(this,"handleGotQuerySuggestions",(function(e,s){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[];s&&(r=t.memoizedQueries[e]=s.map((e=>e.suggestion))),t.setState({suggestionItems:r,trustSuggestionItems:n,suggestionsXhr:null})})),(0,r.A)(this,"submitSearch",((e,t)=>{this.searchSubmitted=!0,this.setHistory(e);var s=this.getSearchParams(e,t);this.setState({query:e},(()=>{this.closeSuggestions(),this.navigateToApp(s)}))})),(0,r.A)(this,"closeSuggestions",(()=>{var{handleSearchFocus:e}=this.props;this.searchSubmitted||this.trackSuggestionsCancel(),this.setState({focused:!1,suggestedQuery:"",suggestionIndex:-1,suggestionItems:[]},(()=>e(!1)))})),(0,r.A)(this,"handleCloseSuggestionsClick",(e=>{e.preventDefault(),this.closeSuggestions()})),(0,r.A)(this,"handleClick",(()=>{(0,m.trackEvent)("search:box:click",{page:this.page,search_session_id:(0,m.getSearchSessionId)()})})),(0,r.A)(this,"handleSearchButtonClick",(e=>{this.handleSubmit(e),this.closeSuggestions()})),(0,r.A)(this,"handleClearButtonClick",(()=>{this.getSuggestions("")})),(0,r.A)(this,"handleSubmit",(e=>{e.preventDefault(),(this.state.suggestedQuery||this.state.query)&&(-1!==this.state.suggestionIndex&&(0,m.trackEvent)("search:drop_down_suggest:submit",{page:this.page,search_session_id:(0,m.getSearchSessionId)(),source:this.source,query:this.state.suggestedQuery}),this.submitSearch(this.inputValue,!1))})),(0,r.A)(this,"handleBlur",(()=>{setTimeout(this.closeSuggestions,300)})),(0,r.A)(this,"handleChange",(e=>{e.persist(),this.setState({query:e.target.value,suggestionIndex:-1},(()=>{this.getSuggestions(e.target.value)}))})),(0,r.A)(this,"handleKeydown",(e=>{var{enter:t,up_arrow:s,down_arrow:n,esc:r,tab:a}=m.keyMappings;switch(e.keyCode){case t:this.handleSubmit(e),e.target.blur(),this.closeSuggestions();break;case s:e.preventDefault(),this.navigateSuggestions(-1);break;case n:e.preventDefault(),this.navigateSuggestions(1);break;case r:e.preventDefault(),e.target.blur(),this.closeSuggestions();break;case a:this.state.suggestionItems.length>0&&(this.closeSuggestions(),e.currentTarget.focus());break;default:return void(this.state.focused||this.setState({focused:!0}))}})),(0,r.A)(this,"handleHideSuggestions",(e=>{this.searchFormRef&&!this.searchFormRef.current.contains(e.target)&&this.hideSuggestions()})),(0,r.A)(this,"handleFocus",(()=>{var{handleSearchFocus:e,onSearchFocus:t}=this.props;this.setState({focused:!0},(()=>{this.getSuggestions(this.state.query)})),e(!0),this.trackRenderedSearchItems(),t()})),this.searchFormRef=u().createRef(),this.searchInputRef=u().createRef(),this.state={brand:e.brand,userId:e.userId,focused:!1,query:e.query,queryHistory:[],suggestedQuery:"",suggestionIndex:-1,suggestionsXhr:null,suggestionItems:[],trustSuggestionItems:!0,backForwardClicked:!1},this.memoizedQueries={}}componentDidMount(){document.addEventListener("click",this.handleHideSuggestions),window.addEventListener("header:search_page:focus_input",this.handleLegacyHeaderInputFocus),window.addEventListener("popstate",this.onPopState),this.setState({queryHistory:this.getHistory()})}componentWillUnmount(){window.removeEventListener("header:search_page:focus_input",this.handleLegacyHeaderInputFocus),document.removeEventListener("click",this.handleHideSuggestions),window.removeEventListener("popstate",this.onPopState)}getHistory(){var e=this.storage.read(this.props.brand);if(e)return e.terms}trackRenderedSearchItems(){var e=this.inputValue,t=(0,m.getSearchSessionId)(),s="search:drop_down_suggest:show",n=this.page;if(e)return(0,m.trackEvent)(s,{layout:"query_suggestions",query:e,search_session_id:t,page:n});(0,m.trackEvent)(s,{layout:"search_history",query:e,search_session_id:t,page:n})}get storage(){return this._storage||(this._storage=new v)}get source(){return this.state.query?"query_suggester":"recent_search"}get page(){return window.location.pathname.split("/")[1]||"home"}get inputValue(){return this.state.suggestionIndex>-1?this.state.suggestedQuery:this.state.query}get placeholderText(){return this.props.placeholderText||h.default.t("megamenu.search_bar.search")}get labelText(){return 0===this.state.query.length?h.default.t("megamenu.search_bar.recent_searches"):""}getSuggestedQuery(e){return e<0?"":S(this.state.suggestionItems[e])}getSuggestions(e){if(this.state.suggestionsXhr&&this.state.suggestionsXhr.abort(),e)if(this.memoizedQueries[e])this.setState({query:e,suggestionItems:this.memoizedQueries[e],trustSuggestionItems:!0});else{var t=function(e,t,s,n){var r="/query_suggestions/web?query=".concat(e);return t!==f.BRANDS.EVERAND&&t!==f.BRANDS.SCRIBD||(r+="&brand=".concat(t)),null!=s&&(r+="&user_id=".concat(s)),m.xhr.get({url:r},((t,s,r)=>{if(!t){var a=JSON.parse(r),i=!!a.query_suggestions;n(e,a.query_suggestions||[],i)}}))}(e,this.state.brand,this.state.userId,this.handleGotQuerySuggestions);this.setState({query:e,suggestionsXhr:t})}else this.useQueryHistory()}useQueryHistory(){this.setState({query:"",suggestionItems:Array.from(this.state.queryHistory),trustSuggestionItems:!1})}navigateToApp(e){var{searchPath:t,searchFunction:s}=this.props;"undefined"!=typeof window&&s("".concat(t,"?").concat(this.getParams(e)))}getParams(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object.keys(e).map((s=>"".concat(s,"=").concat(t?encodeURIComponent(e[s]):e[s]))).join("&")}navigateSuggestions(e){var t=Math.min(this.state.suggestionItems.length-1,Math.max(this.state.suggestionIndex+e,-1));this.setState({suggestedQuery:this.getSuggestedQuery(t),suggestionIndex:t})}getSearchParams(e,t){var s=this.storage.read(this.props.brand),r=s?s.queryPreferences:{},a=(0,n.A)({query:e},r[e]),i=new URLSearchParams(window.location.search).get("language");return i&&(a.language=i),t&&(a.verbatim=!0),a}hideSuggestions(){var{handleSearchFocus:e}=this.props;this.setState({focused:!1,suggestionIndex:-1,suggestionItems:[]}),e(!1)}shouldShowSuggestions(){var{focused:e}=this.state,{keepSuggestionsOnBlur:t}=this.props,s=this.state.suggestionItems.length>0;return(e||t)&&s}renderVisuallyHiddenResultsCount(){var e;if(this.state.focused)return e=this.shouldShowSuggestions()?h.default.t("megamenu.search_bar.num_results_are_available",{props_items_length:this.state.suggestionItems.length}):h.default.t("megamenu.search_bar.no_results_found"),u().createElement(d.A,{"aria-atomic":"true",role:"status","aria-live":"polite",id:"aria_live_status_container"},e)}renderSuggestions(){if(this.shouldShowSuggestions())return u().createElement(T,{handleClick:this.submitSearch,items:this.state.suggestionItems,labelText:this.labelText,listId:"suggestions_list",page:this.page,query:this.state.query,scribdRebrand:this.props.scribdRebrand,selectedIndex:this.state.suggestionIndex,source:this.source,trust:this.state.trustSuggestionItems})}render(){var{extraClasses:e,scribdRebrand:t}=this.props,{focused:s}=this.state;return this.state.backForwardClicked&&this.props.query!==this.state.query&&this.setState({query:this.props.query,backForwardClicked:!1}),u().createElement("div",{className:c()(A,"search_input_container",e,{[H]:s}),role:"search"},u().createElement("form",{className:"search_form",onSubmit:this.handleSubmit,ref:this.searchFormRef},u().createElement("div",{className:c()(D)},u().createElement("button",{type:"button",onClick:this.handleCloseSuggestionsClick,className:N},u().createElement(p.B$J,{alt:h.default.t("megamenu.search_bar.close_suggestions"),className:"icon"})),u().createElement("label",null,u().createElement(d.A,null,h.default.t("megamenu.search_bar.search")),u().createElement("input",{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",className:c()(q,{[x]:t}),"data-e2e":"megamenu-top-bar-search-input",id:"header_search_input",name:"query",onBlur:this.handleBlur,onChange:this.handleChange,onClick:this.handleClick,onFocus:this.handleFocus,onKeyDown:this.handleKeydown,placeholder:this.state.focused?"":this.placeholderText,ref:this.searchInputRef,type:"search",value:this.inputValue})),""!==this.inputValue&&u().createElement(g.QW,{className:c()(M,{[O]:t}),"data-e2e":"megamenu-top-bar-clear_button",onClick:this.handleClearButtonClick,type:"submit"},u().createElement(p.sn9,{className:"icon"}),u().createElement(d.A,null," ",h.default.t("megamenu.search_bar.clear_search"))),u().createElement(g.QW,{className:c()(F,"no_spinner"),"data-e2e":"megamenu-top-bar-search-button",onClick:this.handleSearchButtonClick,type:"submit"},u().createElement(p.XAP,{className:"icon"}),u().createElement(d.A,null,h.default.t("megamenu.search_bar.search")))),this.renderVisuallyHiddenResultsCount(),this.renderSuggestions()))}}L.propTypes={brand:i().string,userId:i().number,extraClasses:i().string,handleSearchFocus:i().func,keepSuggestionsOnBlur:i().bool,onSearchFocus:i().func,placeholderText:i().string,query:i().string,scribdRebrand:i().bool,searchPath:i().string.isRequired,searchFunction:i().func},L.defaultProps={brand:null,userId:null,extraClasses:"",handleSearchFocus:m.noop,keepSuggestionsOnBlur:!1,onSearchFocus:m.noop,placeholderText:null,query:"",scribdRebrand:!1,searchFunction:m.redirect}},67779:(e,t,s)=>{s.d(t,{S:()=>o});var n=s(32720);function r(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var a="undefined"!=typeof window?n.useLayoutEffect:n.useEffect,i=new WeakMap;function o(e,t){var s,o,u,l=(s=t||null,o=function(t){return e.forEach((function(e){return r(e,t)}))},(u=(0,n.useState)((function(){return{value:s,callback:o,facade:{get current(){return u.value},set current(e){var t=u.value;t!==e&&(u.value=e,u.callback(e,t))}}}}))[0]).callback=o,u.facade);return a((function(){var t=i.get(l);if(t){var s=new Set(t),n=new Set(e),a=l.current;s.forEach((function(e){n.has(e)||r(e,null)})),n.forEach((function(e){s.has(e)||r(e,a)}))}i.set(l,e)}),[e]),l}},1666:(e,t,s)=>{s.d(t,{m:()=>i});var n=s(34117),r=s(32720),a=function(e){var t=e.sideCar,s=(0,n.Tt)(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return r.createElement(a,(0,n.Cl)({},s))};function i(e,t){return e.useMedium(t),a}a.isSideCarExport=!0},95778:(e,t,s)=>{s.d(t,{f:()=>i});var n=s(34117);function r(e){return e}function a(e,t){void 0===t&&(t=r);var s=[],n=!1;return{read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(e){var r=t(e,n);return s.push(r),function(){s=s.filter((function(e){return e!==r}))}},assignSyncMedium:function(e){for(n=!0;s.length;){var t=s;s=[],t.forEach(e)}s={push:function(t){return e(t)},filter:function(){return s}}},assignMedium:function(e){n=!0;var t=[];if(s.length){var r=s;s=[],r.forEach(e),t=s}var a=function(){var s=t;t=[],s.forEach(e)},i=function(){return Promise.resolve().then(a)};i(),s={push:function(e){t.push(e),i()},filter:function(e){return t=t.filter(e),s}}}}}function i(e){void 0===e&&(e={});var t=a(null);return t.options=(0,n.Cl)({async:!0,ssr:!1},e),t}}}]);
//# sourceMappingURL=https://www.scribd.com/webpack/monolith/7015.2174cad8fb2d599591f9.js.map