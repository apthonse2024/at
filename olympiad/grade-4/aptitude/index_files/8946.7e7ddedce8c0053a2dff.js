"use strict";(self.webpackChunk_scribd_app_monolith=self.webpackChunk_scribd_app_monolith||[]).push([[8946],{48946:(n,o,e)=>{e.d(o,{Qr:()=>R,Sb:()=>T,_7:()=>U,iP:()=>N});var i=e(5463),a=e(69740),t=e(11865),r=e(39850),c=e(26445),l=()=>"undefined"==typeof window?null:window.Osano?window.Osano:null,u=(n,o)=>{var e,i;null===(e=l())||void 0===e||null===(i=e.cm)||void 0===i||i.addEventListener(n,o)},d=(n,o)=>{var e,i;null===(e=l())||void 0===e||null===(i=e.cm)||void 0===i||i.removeEventListener(n,o)},s={OPT_IN_WITH_SUBCHOICES:"opt-in-with-subchoices",OPT_IN_WITHOUT_SUBCHOICES:"opt-in-without-subchoices",OPT_OUT:"opt-out"},I={ACTION:{CONSENT_DIALOG_CLICK:"consent_dialog_click",CONSENT_DIALOG_VISIBLE:"consent_dialog_visible",DISPLAY_CONSENT_DRAWER:"display_consent_drawer"},NAME:"feature"},O="permissive",v="production",A={INITIALIZED:"osano-cm-initialized",CONSENT_SAVED:"osano-cm-consent-saved",UI_CHANGED:"osano-cm-ui-changed"},T={ANALYTICS:"ANALYTICS",MARKETING:"MARKETING",PERSONALIZATION:"PERSONALIZATION",ESSENTIAL:"ESSENTIAL",OPT_OUT:"OPT-OUT",STORAGE:"STORAGE"},_={DIALOG:"dialog",HIDE:"hide",SHOW:"show"},E="ACCEPT",N=()=>{var n,o,e=null===(n=l())||void 0===n||null===(o=n.cm)||void 0===o?void 0:o.mode;return e===O||e===v},S="ie",p={DIALOG:"customOptInDialog",TITLE:"customOptInTitle"},m=()=>document.querySelector(".osano-cm-dialog");function C(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m();return null==n?void 0:n.classList.contains(p.DIALOG)}var L=function(){var n,o,e;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null==(e=null===(n=window.Osano)||void 0===n||null===(o=n.cm)||void 0===o?void 0:o.jurisdiction)?void 0:e.substring(0,2))===S},f=["action","brand","page"],g=n=>{var o,{action:e,brand:i,page:t}=n,u=(0,r.A)(n,f);(0,c.GV)(I.NAME,(0,a.A)({action:e,brand:i,page:t,version:"v".concat(null===(o=l())||void 0===o?void 0:o.cm.cmpVersion)},u))};function b(n){var{isOptIn:o,hasSubchoices:e}=n;return o&&e?s.OPT_IN_WITH_SUBCHOICES:o?s.OPT_IN_WITHOUT_SUBCHOICES:s.OPT_OUT}function D(){var n=m();if(!n)return{};var o=Boolean(n.querySelector(".osano-cm-toggle")),e=Boolean(n.querySelector(".osano-cm-accept,.osano-cm-accept-all")),i=C(n);return{customized:i,dismissible:!i&&Boolean(n.querySelector(".osano-cm-close")),type:b({isOptIn:e,hasSubchoices:o})}}function h(n){return n===E}function w(n){var{brand:o,page:e}=n;(0,t.trackEvent)("cmp:collection:prompt",(0,a.A)((0,a.A)({},D()),{},{page:e})),g({action:I.ACTION.CONSENT_DIALOG_VISIBLE,brand:o,page:e})}var G=()=>(0,i.Ri)(i.ym.CUSTOM_OSANO_OPT_IN),P=()=>{var n=L()?185:365;(0,i.TV)(i.ym.CUSTOM_OSANO_OPT_IN,new Date,n)};function H(){var n;return(null===(n=m())||void 0===n?void 0:n.querySelectorAll(".osano-cm-button,.osano-cm-close"))||[]}function U(n){var{brand:o,page:e}=n;function i(n){!function(n,o){var{brand:e,page:i}=o,r=l().cm.getConsent(),c=function(n){var o=n.className;for(var e of["accept","close","deny","manage","save"])if(o.includes(e))return e;return null}(n.currentTarget);(0,t.trackEvent)("cmp:collection:submit",(0,a.A)((0,a.A)({},D()),{},{button:c,page:i,storage:h(r[T.STORAGE]),targeted_ads:h(r[T.MARKETING]),personalization:h(r[T.PERSONALIZATION]),analytics:h(r[T.ANALYTICS])})),g({action:I.ACTION.CONSENT_DIALOG_CLICK,brand:e,button:c,page:i})}(n,{brand:o,page:e})}function r(){var n,a,t;if(null!==(n=l())&&void 0!==n&&null!==(a=n.cm)&&void 0!==a&&a.dialogOpen)w({brand:o,page:e});else if(C()&&!G()){var r,c;null===(r=l())||void 0===r||null===(c=r.cm)||void 0===c||c.showDialog()}t=i,H().forEach((n=>{n.addEventListener("click",t)}))}function c(n,i){n===_.DIALOG&&i===_.HIDE&&C()&&P(),n===_.DIALOG&&i===_.SHOW&&w({brand:o,page:e})}return u(A.INITIALIZED,r),u(A.UI_CHANGED,c),function(){var n;d(A.INITIALIZED,r),d(A.UI_CHANGED,c),n=i,H().forEach((o=>{o.removeEventListener("click",n)}))}}var R=(n,o)=>{var e,i;if("undefined"==typeof window)return null;n.preventDefault(),null===(e=l())||void 0===e||e.cm.showDrawer(),!0===(null===(i=l())||void 0===i?void 0:i.cm.drawerOpen)&&g({action:I.ACTION.DISPLAY_CONSENT_DRAWER,brand:o})}}}]);
//# sourceMappingURL=https://www.scribd.com/webpack/monolith/8946.7e7ddedce8c0053a2dff.js.map